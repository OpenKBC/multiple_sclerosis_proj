version: "3"
services:
  notebook: # Notebook
    build:
      dockerfile: Dockerfile_jupyterNotebook
    volumes:
      - /Users/junheeyun/OpenKBC/multiple_sclerosis_proj/notebook/notebook_lib:/home/jovyan/work/notebook_lib
      - /Users/junheeyun/OpenKBC/multiple_sclerosis_proj/notebook/notebook_utils:/home/jovyan/work/notebook_utils
      - /Users/junheeyun/OpenKBC/multiple_sclerosis_proj/notebook/notebook_archive:/home/jovyan/work/notebook_archive
      - /Users/junheeyun/OpenKBC/multiple_sclerosis_proj/notebook/resultFiles:/home/jovyan/work/resultFiles
      - /Users/junheeyun/OpenKBC/multiple_sclerosis_proj/data:/home/jovyan/MainData
    ports:
      - 8888:8888
    container_name: notebookContainer

  pipelines: # Pipelines
    build:
      dockerfile: Dockerfile_SnakemakePipeline
    volumes:
      - /Users/junheeyun/OpenKBC/multiple_sclerosis_proj/data:/MainData
      - /Users/junheeyun/OpenKBC/multiple_sclerosis_proj/notebook/resultFiles:/Output
    ports:
      - 80:5000
    container_name: pipelineContainer